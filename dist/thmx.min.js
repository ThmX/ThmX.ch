/*! thmx - v0.1.0 - 2015-10-18
* https://github.com/ThmX/ThmX.ch
* Copyright (c) 2015 Thomas Denoréaz; Licensed MIT */
var $grid=$("#projects-react").isotope({itemSelector:".grid-item",layoutMode:"masonry"});$(".filter-button-group").on("click","button",function(){var a=$(this).attr("data-filter");$grid.isotope({filter:a}),$(".filter-button-group button").removeClass("active"),$(this).addClass("active")});var ProjectButton=React.createClass({displayName:"ProjectButton",componentDidMount:function(){$grid.delay(500).isotope("reloadItems"),$grid.delay(500).isotope({filter:"*"})},render:function(){var a=this.props.project;return React.createElement("div",{className:"grid-item col-xs-6 col-sm-4 col-md-3 wow fadeInUp "+a.filters.join(" ")},React.createElement("button",{type:"button",className:"thumbnail btn btn-default","data-toggle":"modal","data-target":"#"+a.shortname},React.createElement("img",{src:"projects/"+a.shortname+"/thumbnail.png"}),React.createElement("div",{className:"caption"},a.caption)))}}),ProjectModal=React.createClass({displayName:"ProjectModal",render:function(){var a=this.props.project,b="projects/"+a.shortname+"/",c="col-md-6",d="col-md-6";return a.mobile&&(c="col-md-4",d="col-md-8"),React.createElement("div",{className:"modal fade",id:a.shortname,tabIndex:"-1",role:"dialog","aria-hidden":"true"},React.createElement("div",{className:"modal-dialog modal-lg"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},React.createElement("span",{"aria-hidden":"true"},"×")),React.createElement("h3",null,a.name)),React.createElement("div",{className:"modal-body"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-12 col-sm-6 "+c},React.createElement("div",{id:"carousel-"+a.shortname,className:"carousel slide","data-ride":"carousel"},React.createElement("ol",{className:"carousel-indicators"},React.createElement("li",{"data-target":"#carousel-"+a.shortname,"data-slide-to":"0",className:"active"}),Array.apply(null,{length:a.pics.length-1}).map(Number.call,Number).map(function(b){return React.createElement("li",{key:b+1,"data-target":"#carousel-"+a.shortname,"data-slide-to":b+1})})),React.createElement("div",{className:"carousel-inner",role:"listbox"},React.createElement("div",{className:"item active"},React.createElement("img",{src:b+a.pics.shift(),className:"img-thumbnail"})),a.pics.map(function(a){return React.createElement("div",{key:a,className:"item"},React.createElement("img",{src:b+a,className:"img-thumbnail"}))})),React.createElement("a",{className:"left carousel-control",href:"#carousel-"+a.shortname,role:"button","data-slide":"prev"},React.createElement("span",{className:"glyphicon glyphicon-chevron-left","aria-hidden":"true"}),React.createElement("span",{className:"sr-only"},"Previous")),React.createElement("a",{className:"right carousel-control",href:"#carousel-"+a.shortname,role:"button","data-slide":"next"},React.createElement("span",{className:"glyphicon glyphicon-chevron-right","aria-hidden":"true"}),React.createElement("span",{className:"sr-only"},"Next")))),React.createElement("div",{className:"col-xs-12 col-sm-6 "+d},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6"},React.createElement("p",null,React.createElement("img",{src:b+a.logo,className:"img-thumbnail"})))),React.createElement("p",null,React.createElement("i",{className:"fa fa-calendar"})," ",a.date),React.createElement("p",null,React.createElement("i",{className:"fa fa-globe"})," ",React.createElement("a",{href:a.url,target:"_blank"},a.url)),React.createElement("p",null,React.createElement("i",{className:"fa fa-code"})," ",a.code),React.createElement("hr",null),React.createElement("p",null,a.description)))))))}}),Project=React.createClass({displayName:"Project",getInitialState:function(){return null},componentDidMount:function(){$.ajax({url:this.props.url,dataType:"json",cache:!1,success:function(a){this.setState(a)}.bind(this),error:function(a,b,c){console.error(this.props.url,b,c.toString())}.bind(this)})},componentDidUpdate:function(){$grid.delay(500).isotope("reloadItems"),$grid.delay(500).isotope({filter:"*"})},render:function(){return this.state?React.createElement("div",{key:this.state.shortname,className:"row"},React.createElement(ProjectButton,{project:this.state}),React.createElement(ProjectModal,{project:this.state})):null}}),Projects=React.createClass({displayName:"Projects",getInitialState:function(){return{projects:[]}},componentDidMount:function(){$.ajax({url:this.props.url,dataType:"json",cache:!1,success:function(a){this.setState({projects:a})}.bind(this),error:function(a,b,c){console.error(this.props.url,b,c.toString())}.bind(this)})},render:function(){return React.createElement("div",null,this.state.projects.map(function(a){return React.createElement(Project,{key:a,url:"/projects/"+a+"/info.json"})}))}});ReactDOM.render(React.createElement(Projects,{url:"/projects.json"}),document.getElementById("projects-react")),(new WOW).init(),$(window).load(function(){$(".loader").fadeOut("slow")}),$(window).scroll(function(){$(".navbar").offset().top>50?$(".navbar-fixed-top").addClass("top-nav-collapse"):$(".navbar-fixed-top").removeClass("top-nav-collapse")}),$(function(){$("a.page-scroll").bind("click",function(a){var b=$(this);$("html, body").stop().animate({scrollTop:$(b.attr("href")).offset().top},1500,"easeInOutExpo"),a.preventDefault()})});